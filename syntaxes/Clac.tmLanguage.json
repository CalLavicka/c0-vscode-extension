{
    "scopeName": "source.clac",
    "fileTypes": [
      "clac"
    ],
    "version": "",
    "patterns": [
        {
            "include": "#comment_line"
        },
        {
            "include": "#line"
        }, 
        {
            "include": "#keyword_tokens"
        },
        {
            "include": "#operators"
        },
        {
            "include": "#numbers"
        }
    ],
    "repository": {
        "comment_line": {
            "begin": ":([\\s]*)(comment)",
            "end":";", 
            "endCaptures": {"1": {"name": "punctuation.terminator.statement"}},
            "name":"comment.line.clac"
        }, 
        "line": {
            "begin":"(:)([\\s]*)([\\S]*)([\\s]*)",
            "beginCaptures": {
                "1": {"name": "keyword.control.clac"},
                "3": {"name": "entity.name.function"}
            },
            "end":";",
            "endCaptures": {"1": {"name": "punctuation.terminator.statement"}},
            "name": "line.something.lol",
            "patterns": [ 
                {"include": "#keyword_tokens"},
                {"include": "#operators"},
                {"include": "#numbers"}  
            ]
        },
        "keyword_tokens": {
            "match": "(drop|pick|swap|rot|print|quit|if|skip)",
            "name": "keyword.token.clac"
        },
        "operators": {
            "patterns": [
                {
                    "match": "%|\\*|/|-|\\+|\\*\\*",
                    "name": "keyword.operator"
                },
                {
                    "match": "<",
                    "name": "keyword.operator.comparison"
                }
            ]
        },
        "numbers": {
            "match": "(?<!\\w)\\.?\\d(?:(?:[0-9a-zA-Z_\\.]|'))*",
            "name": "constant.numeric"
        }
    }
}